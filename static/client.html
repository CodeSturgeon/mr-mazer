<html>
<head>
    <link rel='stylesheet' type='text/css' href='client.css' />
    <script type='text/javascript'
         src='http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js'>
    </script>
    <script type='text/javascript' src='json2.js'></script>
    <script type='text/javascript' src='client.js'></script>
    <title>Maze Client</title>
</head>
<body>
    <table id='placeholder'> </table>

    <div id='buttons'>
        <button id='up' value='1'>^</button><br/>
        <button id='left' value='8'>&lt;</button>
        <button id='down' value='4'>v</button>
        <button id='right' value='2'>&gt;</button>
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." :
"http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost +
"google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
    var pageTracker = _gat._getTracker("UA-11484445-1");
    pageTracker._setDomainName("none");
    pageTracker._setAllowLinker(true);
    pageTracker._trackPageview();
} catch(err) {}</script>
</body>
<script type='text/javascript'>
    var pos_url = '/avatar/';
    var vw = Number(get_qvar('width')) || 30;
    var vh = Number(get_qvar('height')) || 30;
    var vm = Number(get_qvar('margin')) || 5;
    var mw = Number(get_qvar('maze_width')) || 909;
    var mh = Number(get_qvar('maze_height')) || 505;

    var v = new View(jQuery('#placeholder')[0],{width:vw,height:vh,margin:vm});
    var m = new Maze(mw,mh);
    jQuery(document).ready(function(){
        var avatar_name = get_qvar('name');
        if(avatar_name == null){
            alert("Cannot find name :(");
        }else{
            pos_url = pos_url+avatar_name;
            jQuery.get(pos_url,{},first_get,'json');
        }
    })
    jQuery('button').click(move_element_clicker);
    jQuery(window).keydown(key_handler);
</script>
</html>
